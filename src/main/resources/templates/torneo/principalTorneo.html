<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.w3.org/1999/xhtml" lang="es">
<head>
	<meta th:replace="static/cabeceraMeta :: meta">
	<link th:replace="static/cabeceraLink :: link">
	<script th:replace="static/cabeceraScript :: script"></script>

	<title>Principal torneo</title>

	<script type="text/javascript">
        function goDetail(id,propia){
            var relativeUrl;
            if(propia == 'true'){
            	relativeUrl = "formulario/getPropia/" + id;
            } else {
            	relativeUrl = "formulario/getMenorOInclisivo/" + id;
            }
            var domain = getDomain(location.href);
            location.href = domain + relativeUrl;
        }
	</script>
</head>
<body>
	<div th:replace="static/barraUsuario :: div"></div>
	<div th:replace="static/barraNav :: nav"></div>

	<div class="container">

		<section class="margenArribaAbajo3Porc text-center">
			<div th:if="${inscripcionError != null}" class="alert alert-danger" role="alert"><span th:text="${inscripcionError}"></span></div>
			<div th:if="${inscripcionCorrecta != null}" class="alert alert-success textAlignCenter" role="alert"><span th:text="${inscripcionCorrecta}"></span></div>
		</section>

		<div class="row align-items-center justify-content-end">
			<div class="col-md-2">
			</div>
			<div class="col-6 col-md-8 colorGreen">
				<h1>Inscripción a torneos</h1>
			</div>
			<div class="col-3 col-md-2">
				<a class="btn btn-info pull-right" href="#" th:href="@{/principal/}">Volver</a>
			</div>
		</div>

		<section sec:authorize="isAuthenticated()" class="text-center">
			<a href="#" th:href="@{/formulario/selectTournament/adulto}" class="textDecoration-none">
				<button class="btn btn-primary backgroundColorLightViolet btn-lg anchoMinimo50 margenArribaAbajo3Porc" type="button">Inscripción propia</button><br>
			</a>

			<a href="#" th:href="@{/formulario/selectTournament/menor}" class="textDecoration-none">
				<button class="btn btn-primary backgroundColorLightViolet btn-lg anchoMinimo50 margenArribaAbajo3Porc" type="button">Autorización menor de 16 años</button><br>
			</a>

			<a href="#" th:href="@{/formulario/selectTournament/inclusivo}" class="textDecoration-none">
				<button class="btn btn-primary backgroundColorLightViolet btn-lg anchoMinimo50 margenArribaAbajo3Porc" type="button">Autorización inclusiva</button><br>
			</a>
		</section>

		<section sec:authorize="isAuthenticated()">
			<table class="table table-striped table-hover">
				<thead>
				<tr>
					<th scope="col">Fecha inscripción</th>
					<th scope="col">Participante</th>
					<th scope="col">Nombre torneo</th>
					<th scope="col">Fecha torneo</th>
				</tr>
				</thead>
				<tbody>
				<tr th:each="inscripcion : ${inscripciones}" th:attr="onclick=|goDetail('${inscripcion.id}','${inscripcion.inscripcionPropia}')|">
					<td><span th:text="${#calendars.format(inscripcion.fechaInscripcion,'dd/MM/yyyy HH:mm')}"></span></td>
					<td><span th:text="${inscripcion.nombre+' '+inscripcion.apellido1+' '+inscripcion.apellido2}"></span></td>
					<td><span th:text="${inscripcion.nombreTorneo}"></span></td>
					<td><span th:text="${inscripcion.fechaTorneo}"></span></td>
				</tr>
				</tbody>
			</table>
		</section>
		
	</div>
</body>

<footer th:replace="static/footer :: footer"></footer>
</html>